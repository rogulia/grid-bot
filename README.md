# ü§ñ SOL-Trader

**–ú—É–ª—å—Ç–∏-–∞–∫–∫–∞—É–Ω—Ç–Ω—ã–π** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–æ—Ä–≥–æ–≤—ã–π –±–æ—Ç –¥–ª—è —Ñ—å—é—á–µ—Ä—Å–æ–≤ Bybit —Å grid-—Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–µ–≥–æ —Ö–µ–¥–∂–∏—Ä–æ–≤–∞–Ω–∏—è (LONG + SHORT –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ). –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –¥–ª—è SaaS –º–æ–¥–µ–ª–∏.

## üìã –û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

–ö–∞–∂–¥—ã–π –∞–∫–∫–∞—É–Ω—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ LONG –∏ SHORT –ø–æ–∑–∏—Ü–∏–∏ –∏:
- **–£—Å—Ä–µ–¥–Ω—è–µ—Ç** –ø–æ–∑–∏—Ü–∏—é –ø—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ —Ü–µ–Ω—ã –Ω–∞ –∑–∞–¥–∞–Ω–Ω—ã–π % (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1%)
- **–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç** —Ä–∞–∑–º–µ—Ä –∫–∞–∂–¥–æ–π –Ω–æ–≤–æ–π –ø–æ–∑–∏—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—è –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –º–∞—Ä—Ç–∏–Ω–≥–µ–π–ª (1 ‚Üí 2 ‚Üí 4 ‚Üí 8 ‚Üí 16...)
- **–§–∏–∫—Å–∏—Ä—É–µ—Ç –ø—Ä–∏–±—ã–ª—å** –ø—Ä–∏ –æ—Ç—Å–∫–æ–∫–µ —Ü–µ–Ω—ã –Ω–∞ –∑–∞–¥–∞–Ω–Ω—ã–π % –≤ –æ–±—Ä–∞—Ç–Ω—É—é —Å—Ç–æ—Ä–æ–Ω—É
- **–ó–∞—â–∏—â–∞–µ—Ç –æ—Ç –ª–∏–∫–≤–∏–¥–∞—Ü–∏–∏** –∏—Å–ø–æ–ª—å–∑—É—è Account Maintenance Margin Rate —Å –±–∏—Ä–∂–∏ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è!)
- **–ò–∑–æ–ª–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ** - –∫–∞–∂–¥—ã–π –∞–∫–∫–∞—É–Ω—Ç –∏–º–µ–µ—Ç —Å–≤–æ–∏ —Ñ–∞–π–ª—ã, –ª–æ–≥–∏, —Ä–∏—Å–∫-–ª–∏–º–∏—Ç—ã

## ‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ

**–í–´–°–û–ö–ò–ô –†–ò–°–ö!** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤—ã—Å–æ–∫–æ–≥–æ –ø–ª–µ—á–∞ (75-100x) –∫—Ä–∞–π–Ω–µ –æ–ø–∞—Å–Ω–æ:
- –ù–∞ Cross Margin –ª–∏–∫–≤–∏–¥–∞—Ü–∏—è —É—á–∏—Ç—ã–≤–∞–µ—Ç –≤–µ—Å—å –±–∞–ª–∞–Ω—Å –∞–∫–∫–∞—É–Ω—Ç–∞
- –ö–∞–∂–¥–∞—è –ø–æ–∑–∏—Ü–∏—è (LONG/SHORT) –ª–∏–∫–≤–∏–¥–∏—Ä—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ö–µ–¥–∂–∏—Ä–æ–≤–∞–Ω–∏–µ
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—á–∞—Ç—å —Å –ø–ª–µ—á–∞ 25-50x –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **–í–°–ï–ì–î–ê** —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ demo —Å—á–µ—Ç–µ –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–µ–∞–ª—å–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤!

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (–µ—Å–ª–∏ –µ—Å—Ç—å git)
git clone <your-repo-url>
cd sol-trader

# –ò–ª–∏ –µ—Å–ª–∏ —É–∂–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞:
# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
source .venv/bin/activate
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–µ–π

1. –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á–∏ –æ—Ç Bybit Demo Trading:
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [https://testnet.bybit.com](https://testnet.bybit.com)
   - –í–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑ GitHub –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ API Management
   - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π API –∫–ª—é—á —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏ –Ω–∞ —Ç–æ—Ä–≥–æ–≤–ª—é

2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:

```bash
cp config/.env.example .env
```

3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ `.env` —Å–≤–æ–∏–º–∏ –∫–ª—é—á–∞–º–∏ (**—Ñ–æ—Ä–º–∞—Ç —Å ID –ø—Ä–µ—Ñ–∏–∫—Å–æ–º!**):

```bash
# Account 1 (Demo)
1_BYBIT_API_KEY=your_api_key_here
1_BYBIT_API_SECRET=your_api_secret_here

# Account 2 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# 2_BYBIT_API_KEY=your_api_key_here
# 2_BYBIT_API_SECRET=your_api_secret_here
```

**–í–∞–∂–Ω–æ:** ID –≤ `.env` –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å `id` –≤ `config.yaml`!

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `config/config.yaml`:

```yaml
accounts:
  # –ê–∫–∫–∞—É–Ω—Ç 1 (Demo)
  - id: 1                                  # –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID (—Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å .env!)
    name: "My Demo Account"                 # –ù–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –ª–æ–≥–æ–≤
    api_key_env: "1_BYBIT_API_KEY"         # –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –∏–∑ .env
    api_secret_env: "1_BYBIT_API_SECRET"
    demo_trading: true                      # true = demo, false = PRODUCTION!
    dry_run: false                          # false = —Ä–µ–∞–ª—å–Ω—ã–µ API –≤—ã–∑–æ–≤—ã

    # –†–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç (–¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –æ—Ç–¥–µ–ª—å–Ω–æ!)
    risk_management:
      mm_rate_threshold: 90.0              # –ó–∞–∫—Ä—ã–≤–∞—Ç—å –ø—Ä–∏ Account MM Rate >= 90%

    # –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ (–º–æ–∂–Ω–æ —Ç–æ—Ä–≥–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–æ–Ω–µ—Ç!)
    strategies:
      - symbol: "DOGEUSDT"                 # –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
        category: "linear"                  # USDT Perpetual
        leverage: 75                        # –ü–ª–µ—á–æ 75x
        initial_position_size_usd: 1.0     # –ú–ê–†–ñ–ê –≤ USD (–Ω–µ —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏!)
        grid_step_percent: 1.0             # –®–∞–≥ —É—Å—Ä–µ–¥–Ω–µ–Ω–∏—è –≤ %
        averaging_multiplier: 2.0          # –ú–∞—Ä—Ç–∏–Ω–≥–µ–π–ª (1‚Üí2‚Üí4‚Üí8‚Üí16)
        take_profit_percent: 1.0           # Take profit –≤ %
        max_grid_levels_per_side: 10       # –ú–∞–∫—Å–∏–º—É–º grid —É—Ä–æ–≤–Ω–µ–π

      # –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –µ—â—ë –º–æ–Ω–µ—Ç—ã:
      # - symbol: "TONUSDT"
      #   leverage: 50
      #   initial_position_size_usd: 1.0
      #   grid_step_percent: 1.0
      #   averaging_multiplier: 2.0
      #   take_profit_percent: 1.0

  # –ê–∫–∫–∞—É–Ω—Ç 2 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è:
  # - id: 2
  #   name: "Second Account"
  #   api_key_env: "2_BYBIT_API_KEY"
  #   api_secret_env: "2_BYBIT_API_SECRET"
  #   demo_trading: true
  #   dry_run: false
  #   risk_management:
  #     mm_rate_threshold: 50.0             # –ë–æ–ª–µ–µ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π –ø–æ—Ä–æ–≥
  #   strategies:
  #     - symbol: "BTCUSDT"
  #       leverage: 25
  #       ...

bot:
  log_level: "INFO"                        # DEBUG | INFO | WARNING | ERROR
```

**–í–ê–ñ–ù–û:**
- `initial_position_size_usd` ‚Äî —ç—Ç–æ **–ú–ê–†–ñ–ê**, –Ω–µ —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏! (–° –ø–ª–µ—á–æ–º 75x: –º–∞—Ä–∂–∞ $1 = –ø–æ–∑–∏—Ü–∏—è $75)
- `mm_rate_threshold` ‚Äî –ø–æ—Ä–æ–≥ Account MM Rate –¥–ª—è emergency close (90% = –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ, 50% = –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–æ)
- –ö–∞–∂–¥—ã–π –∞–∫–∫–∞—É–Ω—Ç –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω: —Å–≤–æ–∏ –∫–ª—é—á–∏, –ª–∏–º–∏—Ç—ã, —Ñ–∞–π–ª—ã

### 4. –ó–∞–ø—É—Å–∫

#### –í–∞—Ä–∏–∞–Ω—Ç A: –ó–∞–ø—É—Å–∫ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

```bash
# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å venv (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω)
source .venv/bin/activate

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
python src/main.py
```

–î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞–∂–º–∏—Ç–µ `Ctrl+C`.

#### –í–∞—Ä–∏–∞–Ω—Ç B: –ó–∞–ø—É—Å–∫ –∫–∞–∫ systemd service (–¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å (–æ–¥–∏–Ω —Ä–∞–∑)
sudo bash scripts/setup_service.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
sudo systemctl start sol-trader

# –°–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
sudo journalctl -u sol-trader -f
```

–ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º. [BACKGROUND_SERVICE_GUIDE.md](docs/BACKGROUND_SERVICE_GUIDE.md)

## üìä –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

### Dry Run (–°–∏–º—É–ª—è—Ü–∏—è)
```yaml
bot:
  dry_run: true
```
- –û—Ä–¥–µ—Ä–∞ –ù–ï –≤—ã—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ –±–∏—Ä–∂—É
- –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è —Ç–æ–ª—å–∫–æ –≤ –ª–æ–≥–∞—Ö
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏

### Demo Trading (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—á–∞–ª–∞)
```yaml
bot:
  dry_run: false

exchange:
  demo_trading: true
```
- –†–µ–∞–ª—å–Ω—ã–µ API –≤—ã–∑–æ–≤—ã –∫ demo —Å–µ—Ä–≤–µ—Ä—É
- –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –¥–µ–Ω—å–≥–∏ (50,000 USDT –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- –ü–æ–ª–Ω–∞—è –∏–º–∏—Ç–∞—Ü–∏—è —Ä–µ–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏

### Production (–ù–ï –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø –±–µ–∑ –æ–ø—ã—Ç–∞!)
```yaml
bot:
  dry_run: false

exchange:
  demo_trading: false
```
- –†–µ–∞–ª—å–Ω—ã–µ –¥–µ–Ω—å–≥–∏ –≤ —Ä–∏—Å–∫–µ!
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —Ç—â–∞—Ç–µ–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è!

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
sol-trader/
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îú‚îÄ‚îÄ config.yaml          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ .env                 # API –∫–ª—é—á–∏ (–ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—å!)
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ exchange/            # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Bybit
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bybit_client.py      # HTTP API
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ bybit_websocket.py   # WebSocket (real-time —Ü–µ–Ω—ã)
‚îÇ   ‚îú‚îÄ‚îÄ strategy/            # –õ–æ–≥–∏–∫–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ grid_strategy.py     # Grid —Å—Ç—Ä–∞—Ç–µ–≥–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ position_manager.py  # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ LONG/SHORT
‚îÇ   ‚îú‚îÄ‚îÄ core/                # –Ø–¥—Ä–æ —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ state_manager.py     # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ analytics/           # –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ metrics_tracker.py   # –ú–µ—Ç—Ä–∏–∫–∏ –∏ –æ—Ç—á–µ—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ utils/               # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ logger.py            # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config_loader.py     # –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ timezone.py          # –†–∞–±–æ—Ç–∞ —Å timezone
‚îÇ   ‚îî‚îÄ‚îÄ main.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ tests/                   # 113 —Ç–µ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ logs/                    # –õ–æ–≥–∏ –±–æ—Ç–∞ (—Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îú‚îÄ‚îÄ data/                    # –î–∞–Ω–Ω—ã–µ –∏ –º–µ—Ç—Ä–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ bot_state.json           # –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ performance_metrics.csv  # –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞–∂–¥—ã–µ 60 —Å–µ–∫
‚îÇ   ‚îú‚îÄ‚îÄ trades_history.csv       # –ò—Å—Ç–æ—Ä–∏—è —Å–¥–µ–ª–æ–∫
‚îÇ   ‚îî‚îÄ‚îÄ summary_report.json/txt  # –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç
‚îú‚îÄ‚îÄ scripts/                 # –°–∫—Ä–∏–ø—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ analyze.py               # –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ setup_service.sh         # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ systemd
‚îÇ   ‚îî‚îÄ‚îÄ bot_control.sh           # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–æ–º
‚îú‚îÄ‚îÄ CLAUDE.md                # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è Claude Code
‚îú‚îÄ‚îÄ README.md                # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îî‚îÄ‚îÄ docs/                    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
    ‚îú‚îÄ‚îÄ MULTI_SYMBOL.md          # –ì–∞–π–¥ –ø–æ –º—É–ª—å—Ç–∏–≤–∞–ª—é—Ç–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–µ
    ‚îú‚îÄ‚îÄ BACKGROUND_SERVICE_GUIDE.md  # –ì–∞–π–¥ –ø–æ –∑–∞–ø—É—Å–∫—É –≤ —Ñ–æ–Ω–µ
    ‚îú‚îÄ‚îÄ TESTING.md               # –ì–∞–π–¥ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
    ‚îî‚îÄ‚îÄ ANALYTICS_GUIDE.md       # –ì–∞–π–¥ –ø–æ –∞–Ω–∞–ª–∏—Ç–∏–∫–µ
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏ (per-account —Å ID –ø—Ä–µ—Ñ–∏–∫—Å–æ–º)

–ë–æ—Ç —Å–æ–∑–¥–∞–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞:

1. **–û—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥ –∞–∫–∫–∞—É–Ω—Ç–∞** (`logs/001_bot_YYYY-MM-DD.log`):
   - –í—Å–µ —Å–æ–±—ã—Ç–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞ 001 —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `[SYMBOL]`
   - –û—à–∏–±–∫–∏ –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
   - –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π –∫–∞–∂–¥—ã–µ 60 —Å–µ–∫—É–Ω–¥

2. **–õ–æ–≥ —Å–¥–µ–ª–æ–∫** (`logs/001_trades_YYYY-MM-DD.log`):
   - –ö–∞–∂–¥–∞—è –æ—Ç–∫—Ä—ã—Ç–∞—è/–∑–∞–∫—Ä—ã—Ç–∞—è –ø–æ–∑–∏—Ü–∏—è
   - –¶–µ–Ω–∞, —Ä–∞–∑–º–µ—Ä, –ø—Ä–∏—á–∏–Ω–∞, PnL

3. **–°–∏—Å—Ç–µ–º–Ω—ã–π –ª–æ–≥** (`logs/main_YYYY-MM-DD.log`):
   - –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –º–µ–∂–¥—É –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ WebSocket'–æ–≤

4. **–°–∏—Å—Ç–µ–º–Ω—ã–µ –ª–æ–≥–∏** (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è systemd):
   ```bash
   sudo journalctl -u sol-trader -f

   # –¢–æ–ª—å–∫–æ –¥–ª—è –∞–∫–∫–∞—É–Ω—Ç–∞ 001:
   sudo journalctl -u sol-trader -f | grep "\[001\]"

   # –¢–æ–ª—å–∫–æ –¥–ª—è –º–æ–Ω–µ—Ç—ã DOGEUSDT –∞–∫–∫–∞—É–Ω—Ç–∞ 001:
   sudo journalctl -u sol-trader -f | grep "\[001\]" | grep "DOGEUSDT"
   ```

### –î–∞–Ω–Ω—ã–µ (per-account)

- **data/001_bot_state.json** - —Ç–µ–∫—É—â–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –∞–∫–∫–∞—É–Ω—Ç–∞ 001
- **data/001_performance_metrics.csv** - —Å–Ω—ç–ø—à–æ—Ç—ã –∫–∞–∂–¥—ã–µ 60 —Å–µ–∫
- **data/001_trades_history.csv** - –≤—Å–µ —Å–¥–µ–ª–∫–∏ —Å PnL
- **data/.001_emergency_stop** - —Ñ–ª–∞–≥ emergency stop (–µ—Å–ª–∏ –µ—Å—Ç—å)

### –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

```bash
# –ü—Ä–æ—Å—Ç–æ–π –æ—Ç—á–µ—Ç
python scripts/analyze.py

# –° –≥—Ä–∞—Ñ–∏–∫–∞–º–∏
python scripts/analyze.py --plot

# –ó–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 24 —á–∞—Å–∞
python scripts/analyze.py --plot --period 24h
```

## ‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### Account (–¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞)

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|----------|----------|--------|
| `id` | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID (1-999) | 1 |
| `name` | –ù–∞–∑–≤–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ | "My Demo" |
| `api_key_env` | –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è .env —Å –∫–ª—é—á–æ–º | "1_BYBIT_API_KEY" |
| `api_secret_env` | –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è .env —Å —Å–µ–∫—Ä–µ—Ç–æ–º | "1_BYBIT_API_SECRET" |
| `demo_trading` | Demo –∏–ª–∏ Production | true |
| `dry_run` | –°–∏–º—É–ª—è—Ü–∏—è –∏–ª–∏ —Ä–µ–∞–ª—å–Ω—ã–µ API | false |

### Risk Management (–¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞)

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|----------|----------|--------------|
| `mm_rate_threshold` | Emergency close –ø—Ä–∏ Account MM Rate >= X% | 90.0 |

### Strategy (–¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–Ω–µ—Ç—ã –≤ –∞–∫–∫–∞—É–Ω—Ç–µ)

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|----------|----------|--------|
| `symbol` | –¢–æ—Ä–≥–æ–≤–∞—è –ø–∞—Ä–∞ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!) | DOGEUSDT |
| `category` | –¢–∏–ø –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ | linear |
| `leverage` | –ü–ª–µ—á–æ | 75 |
| `initial_position_size_usd` | –ù–∞—á–∞–ª—å–Ω–∞—è –º–∞—Ä–∂–∞ (USDT) | 1.0 |
| `grid_step_percent` | –®–∞–≥ grid –≤ % | 1.0 |
| `averaging_multiplier` | –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –º–∞—Ä—Ç–∏–Ω–≥–µ–π–ª | 2.0 |
| `take_profit_percent` | Take profit –≤ % | 1.0 |
| `max_grid_levels_per_side` | –ú–∞–∫—Å —É—Å—Ä–µ–¥–Ω–µ–Ω–∏–π | 10 |

**DEPRECATED –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** (–±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è):
- `max_total_exposure` ‚Üí –¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `totalAvailableBalance` —Å –±–∏—Ä–∂–∏
- `liquidation_buffer` ‚Üí –¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Account MM Rate —Å –±–∏—Ä–∂–∏
- `emergency_stop_loss` ‚Üí –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (MM Rate –∑–∞—â–∏—Ç–∞ –ª—É—á—à–µ)

## üè¢ Multi-Account Architecture

–ë–æ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ **–ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤**:
- –ö–∞–∂–¥—ã–π –∞–∫–∫–∞—É–Ω—Ç = –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å/–∫–ª–∏–µ–Ω—Ç
- –°–≤–æ–∏ API –∫–ª—é—á–∏, —Ä–∏—Å–∫-–ª–∏–º–∏—Ç—ã, —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
- –°–≤–æ–∏ —Ñ–∞–π–ª—ã –¥–∞–Ω–Ω—ã—Ö –∏ –ª–æ–≥–∏ —Å ID –ø—Ä–µ—Ñ–∏–∫—Å–æ–º
- WebSocket'—ã —à–∞—Ä—è—Ç—Å—è –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (–æ–¥–∏–Ω WebSocket –Ω–∞ (symbol, environment) –¥–ª—è –≤—Å–µ—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤)

–ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º. [MIGRATION_TO_MULTI_ACCOUNT.md](docs/MIGRATION_TO_MULTI_ACCOUNT.md)

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# –°–æ–∑–¥–∞—Ç—å venv
~/.local/bin/uv venv

# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å
source .venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
~/.local/bin/uv pip install -r requirements.txt

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
pytest tests/

# –° –ø–æ–¥—Ä–æ–±–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
pytest tests/ -v
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –í—Å–µ 113 —Ç–µ—Å—Ç–æ–≤
pytest tests/

# –¢–æ–ª—å–∫–æ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
pytest tests/test_position_manager.py -v
pytest tests/test_grid_strategy.py -v
pytest tests/test_integration.py -v
```

–ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º. [TESTING.md](docs/TESTING.md)

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- `pybit` - –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ Bybit
- `python-dotenv` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `pyyaml` - –ü–∞—Ä—Å–∏–Ω–≥ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- `pandas` - –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö
- `matplotlib` - –ì—Ä–∞—Ñ–∏–∫–∏
- `pytest` - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- `pytz` - Timezone support

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **Fail-Fast –ø—Ä–∏–Ω—Ü–∏–ø** - –±–æ—Ç –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ª—é–±–æ–π –ø—Ä–æ–±–ª–µ–º–µ —Å –¥–∞–Ω–Ω—ã–º–∏, –≤–º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è fallback –∑–Ω–∞—á–µ–Ω–∏–π
2. **–†–µ–∞–ª—å–Ω–∞—è –ª–∏–∫–≤–∏–¥–∞—Ü–∏—è** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Account Maintenance Margin Rate (accountMMRate) –æ—Ç Bybit API –¥–ª—è hedged –ø–æ–∑–∏—Ü–∏–π
3. **–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –º–∞—Ä—Ç–∏–Ω–≥–µ–π–ª** - –∫–∞–∂–¥–∞—è –Ω–æ–≤–∞—è –ø–æ–∑–∏—Ü–∏—è = –ø—Ä–µ–¥—ã–¥—É—â–∞—è √ó 2 (1‚Üí2‚Üí4‚Üí8‚Üí16...)
4. **Symbol –ø—Ä–µ—Ñ–∏–∫—Å** - –≤—Å–µ –ª–æ–≥–∏ –ø–æ–º–µ—á–µ–Ω—ã `[SYMBOL]` –¥–ª—è multi-symbol —Ç–æ—Ä–≥–æ–≤–ª–∏
5. **State persistence** - –ø–æ–∑–∏—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ JSON –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è
6. **Sync —Å –±–∏—Ä–∂–µ–π** - –∫–∞–∂–¥—ã–µ 60 —Å–µ–∫ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ –±–∏—Ä–∂–µ

### –¢—Ä–∏ —Å–ª–æ—è

1. **Exchange Layer** (`src/exchange/`)
   - –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å Bybit API
   - WebSocket –¥–ª—è real-time —Ü–µ–Ω

2. **Strategy Layer** (`src/strategy/`)
   - Grid –ª–æ–≥–∏–∫–∞
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏—è–º–∏
   - Risk management

3. **Analytics Layer** (`src/analytics/`)
   - –ú–µ—Ç—Ä–∏–∫–∏ –∏ –æ—Ç—á–µ—Ç—ã
   - CSV –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Bybit Demo Trading](https://testnet.bybit.com)
- [Bybit API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://bybit-exchange.github.io/docs/)
- [pybit GitHub](https://github.com/bybit-exchange/pybit)
- [–ú—É–ª—å—Ç–∏–≤–∞–ª—é—Ç–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è](docs/MULTI_SYMBOL.md)
- [–ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ](docs/BACKGROUND_SERVICE_GUIDE.md)
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](docs/TESTING.md)
- [–ê–Ω–∞–ª–∏—Ç–∏–∫–∞](docs/ANALYTICS_GUIDE.md)

## ‚öñÔ∏è –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ `logs/` –∏–ª–∏ —á–µ—Ä–µ–∑ `sudo journalctl -u sol-trader -f`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ API –∫–ª—é—á–∏ –≤–µ—Ä–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è demo —Ä–µ–∂–∏–º
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `symbol` —É–∫–∞–∑–∞–Ω –≤ –∫–æ–Ω—Ñ–∏–≥–µ (–Ω–µ—Ç –¥–µ—Ñ–æ–ª—Ç–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è!)
5. –°–æ–∑–¥–∞–π—Ç–µ issue —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã

## üöÄ –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ó–∞–ø—É—Å–∫ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ (–¥–ª—è —Ç–µ—Å—Ç–∞)
python src/main.py

# –ó–∞–ø—É—Å–∫ –∫–∞–∫ —Å–µ—Ä–≤–∏—Å
sudo systemctl start sol-trader
sudo journalctl -u sol-trader -f

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
sudo systemctl stop sol-trader

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ (–ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥–∞)
sudo systemctl restart sol-trader

# –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
python scripts/analyze.py --plot

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞
python scripts/check_balance.py

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
pytest tests/ -v
```

---

**‚ö†Ô∏è –î–ò–°–ö–õ–ï–ô–ú–ï–†:** –≠—Ç–æ—Ç –±–æ—Ç —Å–æ–∑–¥–∞–Ω –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –≤ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª—è—Ö. –ê–≤—Ç–æ—Ä –Ω–µ –Ω–µ—Å–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –ª—é–±—ã–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø–æ—Ç–µ—Ä–∏. –¢–æ—Ä–≥–æ–≤–ª—è –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–æ–π —Å–æ–ø—Ä—è–∂–µ–Ω–∞ —Å –≤—ã—Å–æ–∫–∏–º–∏ —Ä–∏—Å–∫–∞–º–∏. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞ —Å–≤–æ–π —Å—Ç—Ä–∞—Ö –∏ —Ä–∏—Å–∫!
